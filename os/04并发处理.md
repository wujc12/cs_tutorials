# 第4章 并发处理

## 4.1 并发活动——进程的引入

操作系统的重要特性是并发和共享，计算机系统能同时存在两个及以上正在执行的程序。

### 4.1.1 程序的顺序执行

#### 数据、操作与计算

1. 数据：用来表示人们思维对象的抽象概念的物理表现；
2. 信息：经过解释和处理以满足特定需要的数据叫信息；
3. 操作：数据处理的规则叫做操作；
4. 计算：对某一有限数据对集合所施行的、目的在于解决某一问题的一组有限的操作的集合成为一个计算。

一个程序的执行过程就是一个计算。

#### 顺序程序

一个计算由若干个操作组成，而这些操作如果是顺序执行的。或者说一个程序由若干个程序段组成，而这些程序段的执行顺序必须是顺序的，则这个程序被称为顺序程序。

#### 顺序程序的特点

1. 顺序性；
2. 封闭性：程序一旦开始执行，其计算结果不受外界因素的影响；
3. 可再现性：程序执行的结果与它的执行速度无关，只与初始条件有关；

### 4.1.2 程序的并发执行

程序的并发执行指的是：若干个程序段同时在系统中运行，这些程序段的执行在时间上是重叠的，一个程序段的执行尚未结束，另一个程序段的执行已经开始，则这几个程序段是并发执行的。

### 4.1.3 并发实例——誊抄

略

### 4.1.4 与时间有关的错误

#### 什么是与时间有关的错误

程序并发执行时若共享了公共变量，其执行结果将与并发程序执行的相对速度有关，即给定相同的初始条件，也可能会得到不同的结果，此为与时间有关的错误。**因此，为了保证得到唯一正确的结果，需要实现并发程序执行时的互斥和同步。**

#### 与时间有关的错误产生的原因

若并发执行的程序共享某些公共变量，则一个程序的执行会改变另一个程序的变量。因此程序执行时，其输出结果将受外界影响而失去封闭性；同时结果也是不可再现的，这种现象说明程序并发执行时会发生与时间有关的错误。

### 4.1.5 并发程序的特点

#### 失去程序的封闭性

1. 如果一个程序的变量是其他程序执行时不可接触的，那么这个程序执行后的输出结果一定是其输入的一个与时间无关的函数，具有封闭性；
2. 如果一个程序的执行可以改变另一个程序的变量，那么，后者的输出就可能有赖于各程序执行的相对速度，也就是失去了程序的封闭性特点。

#### 程序与计算不再一一对应

程序在顺序执行时，与计算有一一对应关系，但在并发执行时，这种关系就不再存在了。

#### 程序并发执行的相互制约

当并发执行的各程序之间需要协同操作来完成一个共同的任务时，它们之间具有直接的相互制约关系，且这样的程序之间有一定的逻辑关系。

## 4.2 进程概念
## 4.3 进程控制
## 4.4 进程的相互制约关系
## 4.5 同步机构
## 4.6 进程互斥与同步的实现
## 4.7 UNIX系统的进程管理
